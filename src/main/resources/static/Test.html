<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
<script type="text/javascript">
var xmlhttp;
function loadXMLDoc(url)
{
	alert("开始访问路径："+url);
xmlhttp=null;
if (window.XMLHttpRequest){// code for all new browsers
  xmlhttp=new XMLHttpRequest();
}
else if (window.ActiveXObject){// code for IE5 and IE6
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
 }
if (xmlhttp!=null){
  xmlhttp.onreadystatechange=state_Change;
  xmlhttp.open("POST",url,true);
 // xmlhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
  //xmlhttp.setRequestHeader("Content-Type", "multipart/form-data");
  var data=document.getElementById('b').value;
  var image=document.getElementById('c');
   var file= new FormData();
   file.append("file",image.files[0]);
  xmlhttp.send(file);
}else{
  alert("Your browser does not support XMLHTTP.");
}
}

function state_Change(){
if (xmlhttp.readyState==4){// 4 = "loaded"
  if (xmlhttp.status==200){// 200 = OK
    var msg=xmlhttp.responseText;
	alert(msg);
  }else{
    alert("Problem retrieving XML data");
  }
}
}
function fason(){
var url=document.getElementById('a').value;
alert("访问路径为："+url);
loadXMLDoc(url);
}
</script>
<input id="a" type="text" maxlength="100" style=" width:1000px"/>
<input id="b" type="text" maxlength="100" style=" width:1000px"/>
<input id="c" type="file" maxlength="100" style=" width:1000px"/>
<button onClick="fason()">发送请求</button>
</body>
</html>
